{"meta":{"title":"Aki-Tomoya","subtitle":null,"description":null,"author":"Aki-Tomoya","url":"http://yoursite.com","root":"/"},"pages":[{"title":"404","text":"","path":"404/index-1.html","date":"08-18","excerpt":""},{"title":"404","text":"","path":"404/index.html","date":"08-18","excerpt":""},{"title":"search","text":"","path":"search/index-1.html","date":"08-18","excerpt":""},{"title":"search","text":"","path":"search/index.html","date":"08-18","excerpt":""}],"posts":[{"title":"","text":"title: JSP实现登录注册以及找回密码的实现（上）date: 2019-12-8 13:14:10tags: WEB 刚开始做WEB项目的小伙伴遇到的第一个难关，可能就是做一个能够实现与数据库连接后用于注册，登录，找回密码的界面。今天博主就用一个小项目带领大家实现这个项目，让大家在实战中理解网页如何与数据库连接，如何随机生成验证码并且发送到邮箱，运用sql命令进行数据的增删改查等操作。 那么我们先做的准备工作是：准备好tomcat,在eslipse搭建好环境.熟悉好eslipse的操作，配置好MYSQL数据库（过于基础自己百度或者bilibili把） tomcat的话，可以去http://tomcat.apache.org/下载。博主用的tomcat9.0.稳定的话用tomcat8也很棒。 MYSQL别忘了自己搞一个phpstudy哦。具体怎么搞， www.baidu.com 具体大家可以搜索eslipse jsp开发环境配置 下面是做成后的各种界面 网页思路为： 注册账号：点击发送验证码后随机生成验证码发送至邮箱。输入验证码并填写完信 息后数据库会将用户信息保存。即注册成功。注册密码等用正则表达式 加以限定。 登录账号：将已经注册好的账号输入登录界面后，自动从数据库调用信息判断是否 正确。正确则进入登录后的首页。 忘记密码：在密码界面输入邮箱并填写好验证码后会自动发送一封密码重置链接至 邮箱并跳转至重置窗口。重置完毕会自动更改数据路中的密码。 下面是文件的基本结构： 那么，下面跟随博主一起实现它吧！推荐先把基础的几个界面的html和css写出来，下面的脚本和代码留着后面再一个个理解后敲上去。 首先是登录界面(login.jsp) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;&lt;%@ page import=\"com.td.utils.JspUtils\" %&gt;&lt;%@ page import=\"com.td.bean.Student\" %&gt;&lt;%@ page import=\"java.util.*\" %&gt;&lt;%@include file = \"./layout/function.jsp\"%&gt;&lt;%if(\"post\".equalsIgnoreCase(request.getMethod()))&#123; // post请求才是登录请求 if(CheckCode(request))&#123; // 进一步验证登录 Student student =checkLogin(request); if(student==null)&#123; // 返回错误信息 session.setAttribute(\"errorMsg\", \"用户名或密码错误请重新尝试\"); session.setAttribute(\"targetUrl\", \"./login.jsp\"); response.sendRedirect(\"./error.jsp\"); &#125;else&#123; // 记录登录信息，并跳转首页 session.setAttribute(\"loginState\", \"success\"); session.setAttribute(\"loginUser\", student); // 跳转首页 response.sendRedirect(\"./index.jsp\"); &#125; &#125;else&#123; // 直接返回错误信息 session.setAttribute(\"errorMsg\", \"验证码错误\"); session.setAttribute(\"targetUrl\", \"./login.jsp\"); response.sendRedirect(\"./error.jsp\"); &#125;&#125;%&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"UTF-8\"&gt;&lt;title&gt;Login&lt;/title&gt;&lt;link rel=\"stylesheet\" href=\"css/login.css?version=&lt;%=JspUtils.fileUpdateTime(request,\"css\",\"login.css\") %&gt;\"/&gt; &lt;/head&gt;&lt;body&gt;&lt;div id=\"container\"&gt; &lt;a id=\"wz\" href=\"http://aki-tomoya.coding.me/\"&gt;www.aki-tomoya.coding.me&lt;/a&gt; &lt;%--&lt;img id=\"bg_1\" src=\"img/bg_1.1.jpg\" /&gt;--%&gt; &lt;div id=\"bg_2\"&gt;&lt;img src=\"img/犬山哥.png\"&gt;&lt;/div&gt; &lt;div class=\"INDEXTEXT\"&gt;&lt;a href=\"http://aki-tomoya.coding.me/\"&gt;Aki-Tomoya&lt;/a&gt;&lt;/div&gt; &lt;div class=\"first\"&gt; &lt;form action=\"./login.jsp\" method=\"post\"&gt; &lt;div class=\"group\"&gt; &lt;label id=\"account\"&gt;用户账号&lt;/label&gt; &lt;input class=\"uname\"type=\"text\" name=\"uname\"&gt; &lt;/div&gt; &lt;div class=\"group\"&gt; &lt;label id=\"password\"&gt;账号密码&lt;/label&gt; &lt;input class=\"upass\" type=\"password\" name=\"upass\"&gt; &lt;/div&gt; &lt;div class=\"group\"&gt; &lt;label id=\"valicode\"&gt;验证码 &lt;/label&gt; &lt;input class=\"valicode\" type=\"valiCode\" name=\"ucode\"&gt; &lt;span class=\"valiCode\"&gt;&lt;%=createCode(session) %&gt;&lt;/span&gt; &lt;/div&gt; &lt;button class=\"input-group\" type=\"submit\"&gt;登录&lt;/button&gt; &lt;div class=\"attxt\"&gt;&lt;a href=\"register.jsp\"&gt;注册账号&lt;/a&gt;&lt;/div&gt; &lt;div class=\"pdtxt\"&gt;&lt;a href=\"forget.jsp\"&gt;忘记密码&lt;/a&gt;&lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ​ 登录界面的css样式： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104`html,body&#123; height:100%; margin: 0; padding: 0; &#125; body&#123; background:url(../img/bg_1.2.jpg); background-size:cover; &#125; #container&#123; width: 1520px; height:732px; position: relative; &#125; #container a&#123; position:absolute; color:#fff; /*bottom:0; left:2px;*/ text-decoration:none; &#125; #container a:hover&#123; text-shadow:2px 2px 5px #EEEE00; &#125; #bg_2&#123; position:absolute; top:400px; left:950px; z-index:1; &#125; #bg_2 img&#123; width:207.5px; height:211.5px; &#125; .INDEXTEXT&#123; color:#fff; position: absolute; width: 600px; height: 20px; top: 150px; left: 530px; font-size: 80px; &#125; .INDEXTEXT a&#123; text-shadow: 1px 1px 20px #bbffff /*#FFFFCC*/; text-decoration:none; border-radius:5px; &#125; .INDEXTEXT a:hover&#123; /*box-shadow:5px 5px 40px #bbffff;*/ &#125; .first&#123; width: 500px; height: 300px; background-color: #FDF5E6; box-shadow: 1px 1px 20px #ececec; position: absolute; top: 300px; left: 510px; z-index:0; opacity:0.9; &#125; .input-group&#123; position:relative; top:50px; left:25px; width:90%; height:40px; display:table; border-radius:5px; background-color:#6495ED; cursor:pointer; color:#fff; &#125; .input-group:hover&#123; background-color:#87CEFF; &#125; .input-group input&#123; width:100%; display:table-cell; &#125; .input-group a&#123; display:table-cell; width:1px; word-break:keep-all; &#125; .group&#123; position:relative; top:15px; margin-top:20px; &#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273 .uname&#123; position:relative; left:50px; border-radius:30px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px;&#125;.upass&#123; border-radius:30px; position:relative; left:50px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px;&#125;.valicode&#123; position:relative; left:50px; border-radius:30px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px;&#125;.attxt&#123; position:relative; top:100px; left:100px;&#125;.pdtxt&#123; position:relative; top:100px; left:300px;&#125;#account&#123; position:relative; left:30px; color:#708090;&#125;#password&#123; position:relative; left:30px; color:#708090;&#125;#valicode&#123; position:relative; left:30px; color:#708090;&#125;.valiCode&#123; position:relative; left:70px; border:1px solid #A020F0;&#125;#wz&#123; bottom:0; color:#fff;&#125;` 代码中的图片大家可以替换成自己喜欢的。如果太过于萌新，可以将图片改个名字放在目录中对应部分就好啦！ 那么如果登录失败，就要有一个界面显示到底哪里错误，比如验证码输入错误，密码错误之类的。下面就是我们的error界面啦！这个界面用于显示‘为什么登录失败’嘛，姑且算作代码部分。可以先跳过。 error.jsp 12345678910111213141516&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;&lt;% String targetUrl = (String)session.getAttribute(\"targetUrl\"); response.setHeader(\"refresh\",\"3;\"+targetUrl);%&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=UTF-8\"&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h3&gt;&lt;%=session.getAttribute(\"errorMsg\") %&gt;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt; 这样login.jsp我们就完成了。 下面是首页INDEX(index.jsp) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt; &lt;%! boolean checkLogin(HttpSession session)&#123; return \"success\".equals(session.getAttribute(\"loginState\"));&#125;%&gt;&lt;% if(!checkLogin(session))&#123; response.sendRedirect(\"login.jsp\"); &#125;%&gt; &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"UTF-8\"&gt;&lt;title&gt;Index&lt;/title&gt;&lt;style type=\"text/css\"&gt; body&#123; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; background:url(./img/bg_1.2.jpg); background-size:cover; font-family: consolas; position:relative;&#125;a&#123; position: relative; display: inline-block; padding: 15px 30px; color: #2196f3； text-transform:uppercase; letter-spacing: 4px; text-decoration: none; font-size: 24px; overflow: hidden; transition: 2s;&#125;a:hover&#123; color: #255784; background:#2196f3; box-shadow: 0 0 10px #2196f3,0 0 40px #2196f3,0 0 80px #2196f3; transition-delay:1s;&#125;a span&#123; position: absolute; display: block;&#125;a span:nth-child(1)&#123; top: 0; left: -100%; width: 100%; height: 2px; background:linear-gradient(90deg,transparent,#2196f3);&#125;a:hover span:nth-child(1)&#123; left: 100%; transition: 1s;&#125;a span:nth-child(3)&#123; bottom: 0; right: -100%; width: 100%; height: 2px; background:linear-gradient(270deg,transparent,#2196f3);&#125;a:hover span:nth-child(3)&#123; right: 100%; transition: 1s; transition-delay: 0.5s;&#125;a span:nth-child(2)&#123; right: 0; top: -100%; width: 2px; height: 100%; background:linear-gradient(180deg,transparent,#2196f3);&#125;a:hover span:nth-child(2)&#123; top: 100%; transition: 1s; transition-delay: 0.25s;&#125;a span:nth-child(4)&#123; left: 0; bottom: -100%; width: 2px; height: 100%; background:linear-gradient(360deg,transparent,#2196f3);&#125;a:hover span:nth-child(4)&#123; bottom: 100%; transition: 1s; transition-delay: 0.75s; &#125;.first&#123; position:absolute; background-color:#fff; opacity: 0.7; width: 1320px; height:600px; box-shadow:1px 1px 20px #fff;&#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=\"first\"&gt;&lt;/div&gt;&lt;a href=\"#\"&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; 成功登录&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; 这是登录成功的界面。界面比较简单因此我把css和html就写在一起咯。 下面是注册界面（register.jsp) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;&lt;%@ page import=\"com.td.utils.JspUtils\" %&gt;&lt;%@ page import=\"javax.mail.*\" %&gt;&lt;%@ page import=\"javax.activation.*\" %&gt;&lt;%@ page import=\"javax.mail.internet.*\" %&gt;&lt;%@ page import=\"java.util.*\" %&gt;&lt;%@ page import=\"com.td.bean.Student\" %&gt;&lt;%@include file = \"./layout/function.jsp\"%&gt;&lt;script&gt; function checksend()&#123; alert(\"验证邮件已发送\\(//*/~/*//)/\"); &#125;&lt;/script&gt;&lt;% request.setCharacterEncoding(\"utf-8\"); if(\"post\".equalsIgnoreCase(request.getMethod()))&#123; String codeinfo = request.getParameter(\"codeinfo\"); String uname = request.getParameter(\"uname\"); switch(codeinfo)&#123; case\"1\": Student student = registerStudent(request); if(student!=null)&#123; response.sendRedirect(\"./login.jsp\"); &#125;else&#123; //注册失败 session.setAttribute(\"targetUrl\",\"./register.jsp\"); response.sendRedirect(\"./error.jsp\"); &#125; break; case\"2\": //1.生成验证码 String ucheck = createCode(session); //2.验证码保存在session中 session.setAttribute(\"ucheck\",ucheck); //3.发送验证码 sendMail(uname,\"发送验证码\",ucheck); break; &#125; &#125; //addStudent(student);%&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"UTF-8\"&gt;&lt;title&gt;Register&lt;/title&gt;&lt;link rel=\"stylesheet\" href=\"css/register.css?version=&lt;%=JspUtils.fileUpdateTime(request,\"css\",\"register.css\") %&gt;\"/&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=\"container\"&gt; &lt;a id=\"wz\" href=\"http://aki-tomoya.coding.me/\"&gt;www.aki-tomoya.coding.me&lt;/a&gt; &lt;%--&lt;img id=\"bg_1\" src=\"img/bg_1.1.jpg\" /&gt; --%&gt; &lt;div id=\"bg_2\"&gt;&lt;img src=\"img/犬山哥.png\"&gt;&lt;/div&gt; &lt;div class=\"INDEXTEXT\"&gt;&lt;a href=\"http://aki-tomoya.coding.me/\"&gt;Aki-Tomoya&lt;/a&gt;&lt;/div&gt; &lt;div class=\"first\"&gt; &lt;form action=\"./register.jsp\" method=\"post\"&gt; &lt;div class=\"input-group\"&gt; &lt;label class=\"register-font\"&gt;用户昵称&lt;/label&gt; &lt;input class=\"uname\"type=\"text\" name=\"unick\" value=\"&lt;%=request.getParameter(\"unick\") %&gt;\"&gt; &lt;/div&gt; &lt;div class=\"input-group\"&gt; &lt;label class=\"register-font\"&gt;注册密码&lt;/label&gt; &lt;input class=\"upass\" type=\"text\" name=\"upass1\"&gt; &lt;/div&gt; &lt;div class=\"input-group\"&gt; &lt;label class=\"register-font\"&gt;确认密码&lt;/label&gt; &lt;input class=\"upass\" type=\"text\" name=\"upass2\"&gt; &lt;/div&gt; &lt;input class=\"codeinfo\" type=\"hidden\" name=\"codeinfo\" value=\"1\"&gt; &lt;div class=\"input-group\"&gt; &lt;label class=\"register-font\"&gt;注册邮箱&lt;/label&gt; &lt;input class=\"mail\" type=\"text\" name=\"uname\" value=\"&lt;%=request.getParameter(\"uname\")%&gt;\"&gt; &lt;span class=\"btn\" &gt;点击获取验证🐴&lt;/span&gt; &lt;/div&gt; &lt;div class=\"input-group\"&gt; &lt;label class=\"register-font\"&gt;验证码 &lt;/label&gt; &lt;input class=\"mail\" type=\"text\" name=\"ucheck\"&gt; &lt;/div&gt; &lt;div class=\"gender\"&gt; &lt;label class=\"genderlabel\"&gt;性别&lt;/label&gt; &lt;%if(\"男\".equals(request.getParameter(\"ugender\")))&#123; %&gt; &lt;input class=\"gender2\" type=\"radio\" name=\"ugender\" value=\"男\" checked=\"checked\"&gt;&lt;a id=\"gender2\"&gt;男&lt;/a&gt; &lt;input class=\"gender1\" type=\"radio\" name=\"ugender\" value=\"女\" &gt;&lt;a id=\"gender1\"&gt;女&lt;/a&gt; &lt;%&#125;else&#123; %&gt; &lt;input class=\"gender2\" type=\"radio\" name=\"ugender\" value=\"男\"&gt;&lt;a id=\"gender2\"&gt;男&lt;/a&gt; &lt;input class=\"gender1\" type=\"radio\" name=\"ugender\" value=\"女\" checked=\"checked\"&gt;&lt;a id=\"gender1\"&gt;女&lt;/a&gt; &lt;% &#125; %&gt; &lt;/div&gt; &lt;div class=\"registert\"&gt;&lt;button class=\"input\" type=\"submit\"&gt;注册&lt;/button&gt;&lt;/div&gt; &lt;div class=\"backt\"&gt;&lt;a href=\"login.jsp\"&gt;返回登录&lt;/a&gt;&lt;/div&gt; &lt;/form&gt; &lt;script type=\"text/javascript\"&gt; var doc_form = document.getElementsByTagName(\"form\")[0]; //添加监听事件 doc_form.addEventListener(\"submit\",function()&#123; //当前事件的监听成功-修改&lt;input type=\"hidden\" name=\"codeinfo\" value=\"1\"&gt;的值 var doc_input = doc_form.getElementsByClassName(\"codeinfo\")[0]; doc_input.setAttribute(\"value\",1); &#125;) doc_form.getElementsByClassName(\"btn\")[0].addEventListener(\"click\",function()&#123; var doc_input = doc_form.getElementsByClassName(\"codeinfo\")[0]; doc_input.setAttribute(\"value\",2); doc_form.submit(); &#125;) &lt;/script&gt; &lt;%-- &lt;div class=\"bilibiliimg\"&gt;&lt;img src=\"img/bregister1.1.jpg\"&gt;&lt;/div&gt;--%&gt; &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; register.css 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233html,body&#123; height:100%; margin: 0; padding: 0; &#125; body&#123; background:url(../img/bg_1.2.jpg); background-size:cover; &#125; #container&#123; width: 1520px; height:732px; position: relative; &#125; #container a&#123; position:absolute; /* bottom:0; left:2px;*/ text-decoration:none; &#125; #container a:hover&#123; text-shadow:2px 2px 5px #EEEE00; &#125; #bg_2&#123; position:absolute; top:400px; left:950px; z-index:1; &#125; #bg_2 img&#123; width:207.5px; height:211.5px; &#125; .INDEXTEXT&#123; position: absolute; width: 600px; height: 20px; top: 150px; left: 530px; color: #FFFFCC; font-size: 80px; &#125; .INDEXTEXT a&#123; text-shadow: 1px 1px 20px #bbffff; text-decoration:none; color:#fff; &#125; .INDEXTEXT a:hover&#123; /*text-shadow:5px 5px 40px #bbffff;*/ &#125; .first&#123; width: 500px; height: 300px; background-color: #FDF5E6; box-shadow: 1px 1px 20px #ececec; position: absolute; top: 300px; left: 510px; z-index:0; opacity:0.9; &#125; .registert a&#123; position:relative; top:307px; left:100px; color:#fff; &#125; .backt a&#123; position:relative; top:307px; left:325px; color:#fff; &#125; .uname&#123; position:relative; left:50px; border-radius:30px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px; &#125; .upass&#123; border-radius:30px; position:relative; left:50px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px; &#125; .mail&#123; position:relative; left:50px; border-radius:30px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px; &#125; .attxt&#123; position:relative; top:180px; left:100px; &#125; .pdtxt&#123; position:relative; top:180px; left:300px; &#125; .register-font&#123; position:relative; left:30px; color:#708090; &#125; .input-group&#123; position:relative; top:0px; margin-top:10px; &#125; .bilibiliimg&#123; position:absolute; bottom:-50px; opacity:0.9; &#125; .gender&#123; position:relative; top:15px; left:40px; &#125; .genderlabel&#123; color:#708090; &#125; .gender2&#123; position:relative; left:250px; color:#708090; width:20px; height:15px; &#125; .gender1&#123; position:relative; left:50px; color:#708090; width:20px; height:15px; &#125; #gender1&#123; position:relative; left:80px; color:#708090; &#125; #gender2&#123; position:relative; left:250px; color:#708090; width:20px; height:15px; &#125; #wz&#123; position:relative; color:#fff; left:0; bottom:0 &#125; .btn&#123; position:relative; left:48px; color:#708090; cursor:pointer; &#125; .btn:hover&#123; color:#6495ed; &#125; .btn:active&#123; color:#A52A2A; &#125; .btn:visited&#123; color:A52A2A; &#125; .input&#123; position:relative; top:30px; left:25px; width:90%; height:40px; display:table; border-radius:5px; background-color:#6495ED; cursor:pointer; color:#fff; &#125; .input:hover&#123; background-color:#87CEFF; &#125; 下面是忘记密码界面。算是一个重点。忘记密码界面包含三个子页面，也就是目录里的repass1,repass2,repass3.这三个页面是找回密码的主视图，点击发送验证码后显示给用户的“验证码已发送”界面，另一个是重置密码的界面。我们运用代码来保证这三个界面的切换。当然，我们forget.jsp里面只是用来调用者三个界面的函数。forget页面的真正前端其实是repass.因为repass为forget的子页面并且用include加入其中，因此我们的forget.css中包含了repass的所有样式。repass最终调用的css是forget.css. 下面是忘记密界面 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;&lt;%@ page import=\"com.td.utils.JspUtils\" %&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"UTF-8\"&gt;&lt;title&gt;Forget&lt;/title&gt;&lt;link rel=\"stylesheet\" href=\"css/forget.css?version=&lt;%=JspUtils.fileUpdateTime(request,\"css\",\"forget.css\") %&gt;\"/&gt;&lt;script&gt; function checksend()&#123; alert(\"验证🐴已发送\\(//*/~/*//)/\"); &#125;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;% int type = session.getAttribute(\"repass_type\")==null?1:(int)session.getAttribute(\"repass_type\");// 进行请求判断if(\"post\".equalsIgnoreCase(request.getMethod()))&#123; if(type==1)&#123;// 表示当前是一个表单的提交行为 // 当前是点击找回密码-&gt;1:通过邮箱和验证码申请邮箱修改密码的链接 // 获取请求参数 String uname = request.getParameter(\"uname\"); String ucode = request.getParameter(\"ucode\"); // 2:验证验证码的存在 if(CheckCode(request))&#123; // 3： 验证码通过-&gt;验证当前的邮箱是否存在 // 数据库查询 Student student = findStudentByName(uname); if(student!=null)&#123; // TODO 表示当前学生存在-&gt;给当前邮箱发送密码找回链接 String host = \"http://localhost:8889/LoginPage/forget.jsp\"; // 学生的id // 用于验证的密码 String sign = randomString(\"0123456789qwertyuipasdfghjklzxcvbnmQWERTYUPASDFGHJKLZXCVBNM\",32); // 将验证密码存入到数据库当中 student.setSign(sign); if(updateStudentById(student))&#123; // 构造链接 host+=\"?id=\"+student.getId()+\"&amp;sign=\"+sign; // 将链接发送给用户 sendMail(uname,\"重置密码\",host); // 发送完链接转到repass2 type = 2; session.setAttribute(\"repass_type\",type); &#125;else&#123; // 写入数据库失败 session.setAttribute(\"errorMsg\", \"重置密码失败-用户账户存在异常\"); // 记录返回链接 session.setAttribute(\"targetUrl\", \"./forget.jsp\"); response.sendRedirect(\"./error.jsp\"); &#125; &#125;else&#123; session.setAttribute(\"errorMsg\", \"用户账号不存在\"); // 记录返回链接 session.setAttribute(\"targetUrl\", \"./forget.jsp\"); response.sendRedirect(\"./error.jsp\"); &#125; &#125;else&#123; session.setAttribute(\"errorMsg\", \"验证码错误\"); // 记录返回链接 session.setAttribute(\"targetUrl\", \"./forget.jsp\"); response.sendRedirect(\"./error.jsp\"); &#125; &#125;&#125;else&#123; // 判断当前请求是否是重置表单的链接构造 String _id = request.getParameter(\"id\"); String _sign = request.getParameter(\"sign\"); if(_id!=null &amp;&amp; _sign!=null &amp;&amp; !_id.isEmpty() &amp;&amp; !_sign.isEmpty() )&#123; // 查询学生对象 Student student = findStudentByName(\"uname\"); if(student == null)&#123; // 写入数据库失败 session.setAttribute(\"errorMsg\", \"非法链接请求\"); // 记录返回链接 session.setAttribute(\"targetUrl\", \"./forget.jsp\"); response.sendRedirect(\"./error.jsp\"); &#125;else&#123; // 直接进入链接修改 type = 3; session.setAttribute(\"repass_type\",type); // 记录student对象 session.setAttribute(\"loginUser\",student); &#125; &#125;&#125; if(type==1)&#123; %&gt; &lt;%@include file=\"layout/repass1.jsp\" %&gt;&lt;%&#125; else if(type==2)&#123; %&gt; &lt;%@include file=\"layout/repass2.jsp\" %&gt;&lt;%&#125; else if(type==3)&#123; %&gt; &lt;%@include file=\"layout/repass3.jsp\" %&gt;&lt;%&#125; %&gt;&lt;/body&gt;&lt;/html&gt; repass1（填写丢失密码邮箱和验证码的界面） 1234567891011121314151617181920212223242526272829303132333435&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;&lt;div id=\"container\"&gt;&lt;%@ page import=\"com.td.utils.JspUtils\" %&gt;&lt;%@ include file=\"./function.jsp\" %&gt; &lt;a id=\"wz\" href=\"http://aki-tomoya.coding.me/\" &gt;www.aki-tomoya.coding.me&lt;/a&gt; &lt;%--&lt;img id=\"bg_1\" src=\"img/bg_1.1.jpg\" /&gt; --%&gt; &lt;div id=\"bg_2\"&gt;&lt;img src=\"img/犬山哥.png\"&gt;&lt;/div&gt; &lt;div class=\"INDEXTEXT\"&gt;&lt;a href=\"http://aki-tomoya.coding.me/\"&gt;Aki-Tomoya&lt;/a&gt;&lt;/div&gt; &lt;div class=\"first\"&gt; &lt;form action=\"./forget.jsp\" method=\"post\"&gt; &lt;div class=\"pwdr\"&gt; &lt;a id=\"pwdr\"&gt;密🐴重置&lt;/a&gt; &lt;/div&gt; &lt;div class=\"mmail\"&gt; &lt;label id=\"mail\"&gt;用户账户&lt;/label&gt; &lt;input class=\"mail\" type=\"text\" name=\"uname\" placeholder=\"请输入注册的邮箱\"&gt; &lt;/div&gt; &lt;div class=\"vvalicode\"&gt; &lt;label id=\"valicode\"&gt;验证码 &lt;/label&gt; &lt;input class=\"valicode\" type=\"valiCode\" name=\"ucode\"&gt; &lt;span class=\"valiCode\"&gt;&lt;%=createCode(session) %&gt;&lt;/span&gt; &lt;/div&gt; &lt;div class=\"attxt\"&gt;&lt;a id=\"attxt\" href=\"register.jsp\"&gt;注册账号&lt;/a&gt;&lt;/div&gt; &lt;div class=\"backt\"&gt;&lt;a id=\"backt\" href=\"login.jsp\"&gt;返回&lt;/a&gt;&lt;/div&gt; &lt;div id=\"find\"&gt; &lt;button class=\"find\" type=\"submit\"&gt; 点击找回 &lt;/button&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; repass2.jsp（重置密码链接发送成功界面） 123456789101112131415161718192021&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt; &lt;div id=\"container\"&gt; &lt;a id=\"wz\" href=\"http://aki-tomoya.coding.me/\" &gt;www.aki-tomoya.coding.me&lt;/a&gt; &lt;%--&lt;img id=\"bg_1\" src=\"img/bg_1.1.jpg\" /&gt; --%&gt; &lt;div id=\"bg_2\"&gt;&lt;img src=\"img/犬山哥.png\"&gt;&lt;/div&gt; &lt;div class=\"INDEXTEXT\"&gt;&lt;a href=\"http://aki-tomoya.coding.me/\"&gt;Aki-Tomoya&lt;/a&gt;&lt;/div&gt; &lt;div class=\"first\"&gt; &lt;form action=\"./forget.jsp\" method=\"post\"&gt; &lt;div class=\"pwdr\"&gt; &lt;a id=\"pwdr\"&gt;密🐴重置&lt;/a&gt; &lt;/div&gt; &lt;div class=\"text\"&gt; &lt;a id=\"text\"&gt;验证邮件已经发送至邮箱。请移步至邮箱点击链接进行密码重置。&lt;/a&gt; &lt;/div&gt; &lt;div class=\"yes\"&gt;&lt;a id=\"yes\" href=\"login.jsp\"&gt;确定&lt;/a&gt;&lt;/div&gt; &lt;/form&gt; &lt;/div&gt; repass3.jsp（重置密码界面） 12345678910111213141516171819202122232425262728293031323334&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;&lt;div id=\"container\"&gt; &lt;a id=\"wz\" href=\"http://aki-tomoya.coding.me/\" &gt;www.aki-tomoya.coding.me&lt;/a&gt; &lt;%--&lt;img id=\"bg_1\" src=\"img/bg_1.1.jpg\" /&gt; --%&gt; &lt;div id=\"bg_2\"&gt;&lt;img src=\"img/犬山哥.png\"&gt;&lt;/div&gt; &lt;div class=\"INDEXTEXT\"&gt;&lt;a href=\"http://aki-tomoya.coding.me/\"&gt;Aki-Tomoya&lt;/a&gt;&lt;/div&gt; &lt;div class=\"first\"&gt; &lt;form action=\"forget.jsp\" method=\"post\"&gt; &lt;div class=\"pwdr\"&gt; &lt;a id=\"pwdr\"&gt;密🐴重置&lt;/a&gt; &lt;/div&gt; &lt;div class=\"mmail\"&gt; &lt;label id=\"mail\"&gt;用户账户&lt;/label&gt; &lt;input class=\"mail\" type=\"text\" name=\"umail\" placeholder=\"请输入邮箱\"&gt; &lt;/div&gt; &lt;div class=\"mmmail\"&gt; &lt;label id=\"mmail\"&gt;密码&lt;/label&gt; &lt;input class=\"mail\" type=\"password\" name=\"umail\" placeholder=\"请输入密码\"&gt; &lt;/div&gt; &lt;div class=\"mmmmail\"&gt; &lt;label id=\"mmmail\"&gt;新密码&lt;/label&gt; &lt;input class=\"mail\" type=\"password\" name=\"umail\" placeholder=\"请输入新密码\"&gt; &lt;/div&gt; &lt;div class=\"attxt3\"&gt;&lt;a id=\"attxt3\" href=\"#\"&gt;点击注册&lt;/a&gt;&lt;/div&gt; &lt;div class=\"backt3\"&gt;&lt;a id=\"backt3\" href=\"login.jsp\"&gt;返回&lt;/a&gt;&lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; 下面是forget.css 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254html,body&#123; height:100%; margin: 0; padding: 0; &#125; body&#123; background:url(../img/bg_1.2.jpg); background-size:cover; &#125; #wz&#123; color:#fff; &#125; #container&#123; width: 1520px; height:732px; position: relative; &#125; #container a&#123; position:absolute; bottom:0; left:2px; text-decoration:none; &#125; #container a:hover&#123; text-shadow:2px 2px 5px #EEEE00; &#125; #bg_2&#123; position:absolute; top:400px; left:950px; z-index:1; &#125; #bg_2 img&#123; width:207.5px; height:211.5px; &#125; .INDEXTEXT&#123; position: absolute; width: 600px; height: 20px; top: 236px; left: 528px; color: #FFFFCC; font-size: 80px; &#125; .INDEXTEXT a&#123; text-shadow: 1px 1px 20px #bbffff; text-decoration:none; color:#fff; &#125; .INDEXTEXT a:hover&#123; /*box-shadow:5px 5px 40px #bbffff;*/ &#125; .first&#123; width: 500px; height: 300px; background-color: #FDF5E6; box-shadow: 1px 1px 20px #ececec; position: absolute; top: 300px; left: 510px; z-index:0; opacity:0.9; &#125; .backt&#123; position:relative; top:256px; left:325px; &#125; #backt&#123; color:#fff; &#125; .mmail&#123; position:relative; top:100px; &#125; #mail&#123; position:relative; left:30px; color:#708090; &#125; .mail&#123; position:relative; left:50px; border-radius:30px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px; &#125; .vvalicode&#123; position:relative; top:120px; &#125; .valicode&#123; position:relative; left:50px; border-radius:30px; width:250px; background-color:#fff; height:30px; font-size:20px; padding-left:10px; &#125; #valicode&#123; position:relative; left:30px; color:#708090; &#125; .pwdr&#123; position:relative; top:60px; left:50px; &#125; #pwdr&#123; font-size:30px; color:#6495ED; &#125; .attxt&#123; position:relative; top:256px; left:100px; &#125; #attxt&#123; color:#fff; &#125; .text&#123; position:relative; top:180px; left:15px; &#125; #text&#123; color:#555555; font-size:25px; &#125; .mmmail&#123; position:relative; top:130px; left:32px; &#125; .mmmmail&#123; position:relative; top:160px; left:15px; &#125; #mmail&#123; position:relative; left:30px; color:#708090; &#125; #mmmail&#123; position:relative; left:30px; color:#708090; &#125; .yes&#123; position:relative; top:260px; left:225px; &#125; #yes&#123; font-size:20px; &#125; .attxt3&#123; position:relative; top:220px; left:90px; &#125; #attxt3&#123; color:#fff; &#125; .backt3&#123; position:relative; top:220px; left:350px; &#125; #backt3&#123; color:#fff; &#125; .valiCode&#123; position:relative; left:70px; border:1px solid #A020F0; &#125; .find&#123; position:relative; top:160px; left:20px; width:90%; height:40px; display:table; border-radius:5px; background-color:#6495ED; cursor:pointer; color:#fff; &#125; .find:hover&#123; background-color:#87CEFF; &#125; .find input&#123; width:100%; display:table-cell; &#125; .find a&#123; font-size:20px; width:1px; word-break:keep-all; &#125; 以上就是我们的所有前端界面啦。再更新就是我们的JAVA代码部分啦！ 武汉加油！QWQ","path":"2019/12/08/WEB 实现登录注册以及找回密码/","date":"12-08","excerpt":"","tags":[]},{"title":"前端特效-霓虹灯按钮","text":"半个月前看到了一个炫酷的前端特效今天发在这给大家康康。QWQ 这个是我做好的预览图 按钮的html很简单。四个span用来做环绕的特效，href用来链接下面用来显示。套一个a标签就完成了。 1234567&lt;a href=\"#\"&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; 扁呱RICHAR&lt;/a&gt; css对按钮来说才是重头戏。 body部分就是一些基础设置。将margin和padding归零。顺便设置一下背景颜色。将各元素居中。 12345678910body&#123; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; background:#031321; font-family: consolas;&#125; a标签的整体样式.主要是为下面的盒子阴影变化做铺垫。设置一下按钮内字体的样式。 12345678910111213a&#123; position: relative; display: inline-block; padding: 15px 30px; color: #2196f3； text-transform:uppercase; letter-spacing: 4px; text-decoration: none; font-size: 24px; overflow: hidden; transition: 2s;&#125; a标签扩散阴影效果。其实就是三个盒子阴影在transition属性下的变换. 123456a:hover&#123; color: #255784; background:#2196f3; box-shadow: 0 0 10px #2196f3,0 0 40px #2196f3,0 0 80px #2196f3; transition-delay:1s;&#125; 下面就是我们的彩条环绕特效。说白了就是span来的四个渐变色彩的长方形左右/上下移动形成的视觉感。只要用动画控制这些彩条的移动，延迟，就可以了。让每个彩条呆在-100%的位置使其隐藏，当鼠标移在按钮上时就用hover属性设置彩条移动到100%就可以了。四个彩条操作相同。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354a span:nth-child(1)&#123; top: 0; left: -100%; width: 100%; height: 2px; background:linear-gradient(90deg,transparent,#2196f3);&#125;a:hover span:nth-child(1)&#123; left: 100%; transition: 1s;&#125;a span:nth-child(3)&#123; bottom: 0; right: -100%; width: 100%; height: 2px; background:linear-gradient(270deg,transparent,#2196f3);&#125;a:hover span:nth-child(3)&#123; right: 100%; transition: 1s; transition-delay: 0.5s;&#125;a span:nth-child(2)&#123; right: 0; top: -100%; width: 2px; height: 100%; background:linear-gradient(180deg,transparent,#2196f3);&#125;a:hover span:nth-child(2)&#123; top: 100%; transition: 1s; transition-delay: 0.25s;&#125;a span:nth-child(4)&#123; left: 0; bottom: -100%; width: 2px; height: 100%; background:linear-gradient(360deg,transparent,#2196f3);&#125;a:hover span:nth-child(4)&#123; bottom: 100%; transition: 1s; transition-delay: 0.75s; &#125; 下面是css所有代码综合： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091body&#123; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; background:#031321; font-family: consolas;&#125;a&#123; position: relative; display: inline-block; padding: 15px 30px; color: #2196f3； text-transform:uppercase; letter-spacing: 4px; text-decoration: none; font-size: 24px; overflow: hidden; transition: 2s;&#125;a:hover&#123; color: #255784; background:#2196f3; box-shadow: 0 0 10px #2196f3,0 0 40px #2196f3,0 0 80px #2196f3; transition-delay:1s;&#125;a span&#123; position: absolute; display: block;&#125;a span:nth-child(1)&#123; top: 0; left: -100%; width: 100%; height: 2px; background:linear-gradient(90deg,transparent,#2196f3);&#125;a:hover span:nth-child(1)&#123; left: 100%; transition: 1s;&#125;a span:nth-child(3)&#123; bottom: 0; right: -100%; width: 100%; height: 2px; background:linear-gradient(270deg,transparent,#2196f3);&#125;a:hover span:nth-child(3)&#123; right: 100%; transition: 1s; transition-delay: 0.5s;&#125;a span:nth-child(2)&#123; right: 0; top: -100%; width: 2px; height: 100%; background:linear-gradient(180deg,transparent,#2196f3);&#125;a:hover span:nth-child(2)&#123; top: 100%; transition: 1s; transition-delay: 0.25s;&#125;a span:nth-child(4)&#123; left: 0; bottom: -100%; width: 2px; height: 100%; background:linear-gradient(360deg,transparent,#2196f3);&#125;a:hover span:nth-child(4)&#123; bottom: 100%; transition: 1s; transition-delay: 0.75s; &#125; 简短但是炫酷的按钮特效就这样完成了.QWQ","path":"2019/08/22/前端特效-霓虹灯按钮/","date":"08-22","excerpt":"","tags":[{"name":"前端","slug":"前端","permalink":"http://yoursite.com/tags/前端/"}]},{"title":"博客介绍","text":"大家好！我是博主Aki-Tomoya！一个前端萌新QWQ。今后的日子里我会在博客更新一些有趣的前端特效，也会更新一些ps.pr的教程用来传教，也可能会更新关于unity3D的技术请大家不要见笑（三押OHHHHH)。我会把在学习中学到的经验通过博客传授给大家，也会把自己跳进过的坑指给大家让大家不要像我一样傻乎乎的跳进坑里（捂脸。当然最主要的还是前端开发咯~ 我会把我的作品上传到github和码云的库里面。大家可以点击右边菜单的github按钮访问我的github库进行下载。 博客内容将涉及到html,css,js,c/c++/c#,ps,pr,java等乱七八糟的东西….. ps:还有一些关于live2d之类的插件还没有实装。音乐功能也还没写。等博主开学泡实验室搞出来。 欢迎有兴趣的同学加我的qq（看公告！）一起交流学习经验！","path":"2019/08/16/我的第一篇博客文章/","date":"08-16","excerpt":"","tags":[]}]}